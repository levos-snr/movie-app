{"ast":null,"code":"var _jsxFileName = \"/home/lewis/papareact-challenge/papareact-day3/src/BigList.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Button from '@material-ui/core/Button';\nimport StarRoundedIcon from \"@material-ui/icons/StarRounded\";\nimport Rating from \"@material-ui/lab/Rating\";\nimport TextTruncate from \"react-text-truncate\";\nimport defaultImage from \"./assets/default.jpg\";\nimport numeral from \"numeral\";\nimport \"./BigList.css\";\nimport axios from './axios';\nimport requests, { imageBase } from './api';\n\nfunction BigList({\n  fetchId,\n  title,\n  setMovieId,\n  setLoading,\n  type,\n  notGradient\n}) {\n  const [thisMovies, setThisMovies] = useState([]);\n  useEffect(() => {\n    const fetchData = async () => {\n      axios.get(fetchId).then(response => {\n        setThisMovies(response.data.results);\n      }).catch(err => errorOccurred(err));\n    };\n\n    fetchData();\n  }, [fetchId]);\n\n  const errorOccurred = error => {\n    setLoading(false);\n    alert('Something went wrong.');\n    console.log(error.message);\n  };\n\n  const scrollHorizontally = e => {\n    let delta = Math.max(-1, Math.min(1, e.wheelDelta || -e.detail));\n    e.target.scrollLeft -= delta * 40;\n    e.preventDefault();\n  };\n\n  const handleClick = movie => {\n    movie.media_type = type;\n    setMovieId(movie);\n    setLoading(true);\n  };\n\n  const getReleaseYear = date => {\n    let year = new Date(date);\n    return year.getFullYear();\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `list biglist ${!notGradient ? \"bigList_gradient\" : \"\"}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"list__trending list__big\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, title), /*#__PURE__*/React.createElement(\"div\", {\n    onWheel: e => scrollHorizontally(e),\n    class: \"list__items list__items-big\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, thisMovies === null || thisMovies === void 0 ? void 0 : thisMovies.slice(0, 10).map(movie => /*#__PURE__*/React.createElement(\"div\", {\n    class: \"list__item\",\n    key: movie.id,\n    onClick: () => handleClick(movie),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    loading: \"lazy\",\n    onError: e => {\n      e.target.onerror = null;\n      e.target.src = defaultImage;\n    },\n    src: `${imageBase}${movie.poster_path || movie.backdrop_path}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 8\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"list__itemInfo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"list__itemTitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, movie.title || movie.original_title || movie.name || movie.original_name, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"list__itemYear\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 115\n    }\n  }, \"(\", getReleaseYear(movie.release_date || movie.first_air_date), \")\")), /*#__PURE__*/React.createElement(TextTruncate, {\n    line: 2,\n    element: \"p\",\n    containerClassName: \"list__itemOverview\",\n    truncateText: \"\\u2026\",\n    text: movie.tagline || movie.overview,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"list__rating\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Rating, {\n    name: \"movie-rating\",\n    className: \"movieRating\",\n    value: movie.vote_average / 2 || 0,\n    precision: 0.5,\n    icon: /*#__PURE__*/React.createElement(StarRoundedIcon, {\n      fontSize: \"inherit\",\n      readOnly: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 122\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 10\n    }\n  }), /*#__PURE__*/React.createElement(\"small\", {\n    className: \"list__likes\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 10\n    }\n  }, numeral(movie.vote_average / 2).format('0.0')))))))));\n}\n\nexport default BigList;","map":{"version":3,"sources":["/home/lewis/papareact-challenge/papareact-day3/src/BigList.js"],"names":["React","useState","useEffect","Button","StarRoundedIcon","Rating","TextTruncate","defaultImage","numeral","axios","requests","imageBase","BigList","fetchId","title","setMovieId","setLoading","type","notGradient","thisMovies","setThisMovies","fetchData","get","then","response","data","results","catch","err","errorOccurred","error","alert","console","log","message","scrollHorizontally","e","delta","Math","max","min","wheelDelta","detail","target","scrollLeft","preventDefault","handleClick","movie","media_type","getReleaseYear","date","year","Date","getFullYear","slice","map","id","onerror","src","poster_path","backdrop_path","original_title","name","original_name","release_date","first_air_date","tagline","overview","vote_average","format"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Button from '@material-ui/core/Button';\nimport StarRoundedIcon from \"@material-ui/icons/StarRounded\";\nimport Rating from \"@material-ui/lab/Rating\";\nimport TextTruncate from \"react-text-truncate\";\nimport defaultImage from \"./assets/default.jpg\";\nimport numeral from \"numeral\";\nimport \"./BigList.css\";\nimport axios from './axios';\nimport requests, { imageBase } from './api';\n\nfunction BigList({ fetchId, title, setMovieId, setLoading, type, notGradient }) {\n  const [thisMovies, setThisMovies] = useState([]);\n\n  useEffect(() => {\n\tconst fetchData = async () => {\n    \t\taxios.get(fetchId).then((response) => {\n      \t\tsetThisMovies(response.data.results);\n    \t\t}).catch((err) => errorOccurred(err));\n\t}\n\t\n\tfetchData();\n  }, [fetchId]);\n\n  const errorOccurred = (error) => {\n\tsetLoading(false);\n\talert('Something went wrong.');\n\tconsole.log(error.message);\n  }\n\n  const scrollHorizontally = (e) => {\n    let delta = Math.max(-1, Math.min(1, (e.wheelDelta || -e.detail)));\n    e.target.scrollLeft -= (delta * 40);\n    e.preventDefault();\n  }\n\n  const handleClick = (movie) => {\n    movie.media_type = type;\n    setMovieId(movie);\n    setLoading(true);\n  }\n\n  const getReleaseYear = (date) => {\n    let year = new Date(date);\n    return year.getFullYear();\n  }\n\n  return (\n    <div className={`list biglist ${!notGradient ? \"bigList_gradient\" : \"\"}`}>\n\n\t\t\t<div class=\"list__trending list__big\">\n\t\t\t\t<h4>{title}</h4>\n\t\t\t\t<div onWheel={(e) => scrollHorizontally(e)} class=\"list__items list__items-big\">\n\t\t\t\t\t{ thisMovies?.slice(0, 10).map((movie) =>\n\t\t\t\t\t\t(<div class=\"list__item\" key={movie.id} onClick={() => handleClick(movie)}>\n\t\t\t\t\t\t\t<img loading=\"lazy\" onError={(e) => {e.target.onerror = null; e.target.src = defaultImage }} src={`${imageBase}${movie.poster_path || movie.backdrop_path}`} />\n\t\t\t\t\t\t\t<div className=\"list__itemInfo\">\n\t\t\t\t\t\t\t\t<h5 className=\"list__itemTitle\">{movie.title || movie.original_title || movie.name || movie.original_name}<span className=\"list__itemYear\">({getReleaseYear(movie.release_date || movie.first_air_date)})</span></h5>\n\t\t\t\t\t\t\t\t<TextTruncate\n\t\t\t\t\t\t\t\t\tline={2}\n\t\t\t\t\t\t\t\t\telement=\"p\"\n\t\t\t\t\t\t\t\t\tcontainerClassName=\"list__itemOverview\"\n\t\t\t\t\t\t\t\t\ttruncateText=\"â€¦\"\n\t\t\t\t\t\t\t\t\ttext={movie.tagline || movie.overview}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div className=\"list__rating\">\n\t\t\t\t\t\t\t\t\t<Rating name=\"movie-rating\" className=\"movieRating\" value={(movie.vote_average / 2) || 0} precision={0.5} icon={<StarRoundedIcon fontSize=\"inherit\" readOnly />}/>\n\t\t\t\t\t\t\t\t\t<small className=\"list__likes\">{numeral(movie.vote_average / 2).format('0.0')}</small>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>)\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t</div>\n  );\n}\n\nexport default BigList;"]},"metadata":{},"sourceType":"module"}